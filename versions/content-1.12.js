createComponent=(a,b)=>{customElements.define(a,class extends HTMLElement{connectedCallback(){this.innerHTML=b}})},contents.map(async a=>{switch(a.prev="",a.alt=a.name.toLowerCase(),a.type){case"page":{let b=await (await fetch(a.src)).text();a.data=b,renderTest(b,a),a.render=()=>{renderTest(b,a)}}break;case"static-page":{let c=await (await fetch(a.src)).text();!0==a.test?renderTest(c,a,"static-page"):createComponent(a.alt,c)}break;case"static-atom":createComponent(a.name,a.data());break;case"atom":createComponent(a.alt,a.data()),a.prev=a.data(),a.render=()=>{var b=()=>a.data();a.prev!==b()&&(document.querySelectorAll(a.name).forEach(b=>b.innerHTML=a.data()),a.prev=b())};break;case"composition":{let e=await (await fetch(a.src)).text();a.data=e,a.render=async()=>{renderTest(removeTemplateTag(e),a,"test-composition")},renderTest(a.data,a,"composition")}break;case"static-composition":{let d=await (await fetch(a.src)).text();a.test?renderTest(d,a,"static-composition"):composition(a.alt,d)}}}),removeTemplateTag=a=>{let b=a.replace("<template>",""),c=b.replace("</template>","");return c},composition=(a,b)=>{let c=document.createElement("div");c.innerHTML=b,customElements.define(a,class extends HTMLElement{constructor(){super();let a=c.firstElementChild.content,b=this.attachShadow({mode:"open"});b.appendChild(a.cloneNode(!0))}})},renderTest=(str,item,condition)=>{var start,end;let first="{{",last="}}",starter=str.search(first),endPoint=str.search(last),isStarter,isEndPoint,isPolated;if(!1==(start=starter> -1,end=endPoint> -1,!0==start&& !0==end)){switch(condition){case"composition":composition(item.alt,str);break;case"static-page":createComponent(item.alt,str)}"static-page"==item.type||"static-atom"==item.type||"static-composition"==item.type||(""==item.prev&&(item.prev=str,"page"==item.type&&createComponent(item.alt,str)),item.prev!==str&&document.querySelectorAll(item.alt).forEach((b,a)=>{if("test-composition"==condition){var c;document.querySelector(item.alt).shadowRoot.innerHTML=str}else document.querySelectorAll(item.alt)[a].innerHTML=str;item.prev=str}))}else{let interp=str.slice(starter+first.length,endPoint),output=()=>eval(interp),clean;renderTest(str.slice(0,starter)+output()+str.slice(endPoint+last.length),item,condition)}},val=()=>{contents.map(a=>{"static-page"!==a.type&&"static-atom"!==a.type&&"static-composition"!==a.type&&"text"!==a.type&&a.render()})},gVal=a=>{contents.map(b=>{b.name.toLowerCase()===a.toLowerCase()&&b.render()})};let set=()=>{contents.map(a=>{"atom"==a.type&&a.render()})}
